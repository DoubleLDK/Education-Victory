{% extends "basic.html" %}
{% load static %}

{% block content %}
<span id="vue-span">
  <section class="hero is-medium is-link">
    <div class="hero-body">
      <p class="title">
        Algorithm Quiz
      </p>
      <p class="subtitle">
        We learn from the fitness industry that by training on some questions slightly above your current level, you can achieve the best training effect. Spend ten minutes to complete these multiple-choice questions, which will help us better understand your proficiency.
      </p>
      <button class="button is-white">Start For Free</button>
    </div>
  </section>
  <section class="section">
    <div class="container">
      <div class="columns is-multiline">
        <div class="column is-3-desktop is-6-tablet" v-for="(task, index) in new_task_lst">
          <div class="card p-3">
            <div class="card-content">
              <span class="tag is-info top">New</span>
              <div class="content is-flex is-justify-content-space-between is-align-items-center">
                <div>
                  <h2 class="title is-size-5 mb-1">[[ task.category ]]</h2>
                  <span class="is-size-6">[[ task.practice_method ]]</span>
                </div>
              </div>
              <div class="content mb-1 is-flex is-justify-content-space-between is-align-items-center">
                <p class="mb-0 is-size-6" >Estimated time</p>
                <span class="tag is-success is-light">60 minutes</span>
              </div>
              <div class="content mb-1 is-flex is-justify-content-space-between is-align-items-center">
                <p class="mb-0 is-size-6">Content</p>
                <span class="tag is-success is-light">5 questions</span>
              </div>
            </div>
            <div class="card-footer">
              <div class="card-footer-item" style="width: 100%;">
                <div class="is-flex is-justify-content-space-between is-align-items-center" style="width: 100%;">
                  <a class="button is-link ml-auto" href="#">Start</a>
                </div>
              </div>
            </div> <!-- end card-footer -->
          </div> <!-- end card -->
        </div> <!-- end column -->
      <div class="column is-3-desktop is-6-tablet" v-for="(task, index) in review_task_lst">
          <div class="card p-3">
            <div class="card-content">
              <span class="tag is-warning top">Review</span>
              <div class="content is-flex is-justify-content-space-between is-align-items-center">
                <div>
                  <h2 class="title is-size-5 mb-1">[[ task.category ]]</h2>
                  <span class="is-size-6">[[ task.practice_method ]]</span>
                </div>
              </div>
              <div class="content mb-1 is-flex is-justify-content-space-between is-align-items-center">
                <p class="mb-0 is-size-6" >Estimated time</p>
                <span class="tag is-success is-light">60 minutes</span>
              </div>
              <div class="content mb-1 is-flex is-justify-content-space-between is-align-items-center">
                <p class="mb-0 is-size-6">Content</p>
                <span class="tag is-success is-light">5 questions</span>
              </div>
            </div>
            <div class="card-footer">
              <div class="card-footer-item" style="width: 100%;">
                <div class="is-flex is-justify-content-space-between is-align-items-center" style="width: 100%;">
                  <a class="button is-link ml-auto" href="#">Start</a>
                </div>
              </div>
            </div> <!-- end card-footer -->
          </div>
        </div> <!-- end card -->
      </div> <!-- end column -->
     </div>  <!-- end columns -->
    </div>
  </section>
  <section class="section">
    <div class="container">
      <div class="box px-0">
        <div class="px-5 mb-4">
          <div class="columns is-vcentered is-multiline is-justify-content-space-between">
            <div class="column">
              <h5 class="title is-size-4">Question List</h5>
              <p class="subtitle is-size-6">List of all type of questions</p>
            </div>
            <div class="column is-2">
              <div class="dropdown is-hoverable">
                <div class="dropdown-trigger">
                  <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span>Diffculty</span>
                    <span class="icon is-small">
                      <i class="fas fa-angle-down" aria-hidden="true"></i>
                    </span>
                  </button>
                </div>
                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                  <div class="dropdown-content">
                    <a href="#" class="dropdown-item">
                      Level one
                    </a>
                    <a href="#" class="dropdown-item">
                      Level two
                    </a>
                    <a href="#" class="dropdown-item">
                      Level three
                    </a>
                    <a href="#" class="dropdown-item">
                      Level four
                    </a>
                    <a href="#" class="dropdown-item">
                      Level five
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="column is-2">
              <div class="dropdown is-hoverable">
                <div class="dropdown-trigger">
                  <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span>Category</span>
                    <span class="icon is-small">
                      <i class="fas fa-angle-down" aria-hidden="true"></i>
                    </span>
                  </button>
                </div>
                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                  <div class="dropdown-content">
                    <a href="#" class="dropdown-item">
                      Dropdown item
                    </a>
                    <a class="dropdown-item">
                      Other dropdown item
                    </a>
                    <a href="#" class="dropdown-item is-active">
                      Active dropdown item
                    </a>
                    <a href="#" class="dropdown-item">
                      Other dropdown item
                    </a>
                    <hr class="dropdown-divider">
                    <a href="#" class="dropdown-item">
                      With a divider
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="column is-2">
              <div class="dropdown is-hoverable">
                <div class="dropdown-trigger">
                  <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span>Type</span>
                    <span class="icon is-small">
                      <i class="fas fa-angle-down" aria-hidden="true"></i>
                    </span>
                  </button>
                </div>
                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                  <div class="dropdown-content">
                    <a href="#" class="dropdown-item">
                      Dropdown item
                    </a>
                    <a class="dropdown-item">
                      Other dropdown item
                    </a>
                    <a href="#" class="dropdown-item is-active">
                      Active dropdown item
                    </a>
                    <a href="#" class="dropdown-item">
                      Other dropdown item
                    </a>
                    <hr class="dropdown-divider">
                    <a href="#" class="dropdown-item">
                      With a divider
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="table-container mb-0">
          <table class="table is-striped is-fullwidth is-size-7 mb-0">
            <thead>
              <tr>
                <th class="px-5 py-3 has-text-grey">Name</th>
                <th class="px-5 py-3 has-text-grey">Category</th>
                <th class="px-5 py-3 has-text-grey">Diffculty</th>
                <th class="px-5 py-3 has-text-grey">Type</th>
                <th class="px-5 py-3 has-text-grey">Frequency</th>
                <th class="px-5 py-3 has-text-grey">Progress</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(question, index) in question_lst">
                <td class="px-5 py-4">
                  <div class="is-flex is-align-items-center">
                    <div>
                      <p class="is-size-6 py-1 has-text-weight-medium">[[ question.solution_name ]] </p>
                    </div>
                  </div>
                </td>
                <td class="px-5 py-4">
                  <span class="tag is-success is-success">[[ question.category_name ]]</span>
                </td>
                <td class="px-5 py-4">
                  <p class="is-size-6 has-text-weight-medium">[[ question.diffculty ]]</p>
                </td>
                <td class="px-5 py-4">
                  <p class="is-size-6 has-text-weight-medium">[[ question.qtype ]]</p>
                </td>
                <td class="px-5 py-4">
                  <progress class="progress" value="15" max="100">15%</progress>
                </td>
                <td class="px-5 py-4">
                  <progress class="progress" value="55" max="100">15%</progress>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="columns">
        <div class="column is-flex is-justify-content-flex-end">
          <nav class="pagination" role="navigation" aria-label="pagination">
            <ul class="pagination-list" style="font-size: 12px;">
              <li>
                <a class="pagination-link has-background-white" href="#" aria-label="previous">
                </a>
              </li>
              <li><a class="pagination-link has-background-white" href="#" aria-label="page 1">1</a></li>
              <li><a class="pagination-link has-background-white" href="#" aria-label="page 1">2</a></li>
              <li><a class="pagination-link has-background-white" href="#" aria-label="page 1">3</a></li>
              <li><a class="pagination-link has-background-white" href="#" aria-label="page 1">4</a></li>
              <li><a class="pagination-link has-background-white" href="#" aria-label="page 1">5</a></li>
              <li>
                <a class="pagination-link has-background-white" href="#" aria-label="next">
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </section>
    </span>
</span>
{% endblock %}
{% block extra_script %}
  <script>
    var root = '{{ root }}';
    var app = new Vue({
      delimiters: ['[[', ']]'],
      el: '#vue-span',
      data () {
        return {
           root: root,
           new_task_lst: [],
           review_task_lst: [],
           question_lst: [],
        }
      },
      mounted () {
        axios.get(root + '/api/task/?state=New&count=3')
          .then(response => {
            // handle success
            this.new_task_lst = response.data;
          })
          .catch(function (error) {
            // handle error
            console.log(error);
          })
          .finally(function () {
            // always executed
          });
        axios.get(root + '/api/task/?state=Review&count=1')
          .then(response => {
            this.review_task_lst = response.data;
          })
          .catch(function (error) {
            console.log(error);
          })
          .finally(function () {
          });
        axios.get(root + '/api/question/?type=All')
          .then(response => {
            this.question_lst = response.data;
          })
          .catch(function (error) {
            console.log(error);
          })
          .finally(function () {
          });
      }
    })
  </script>
{% endblock %}
